<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>
        
        @TheMoment
        
    </title>
    <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1">
    <link rel='icon' type='image/x-icon' href="/images/logo.png" />
    <link rel="apple-touch-icon" href="/images/logo.png"><link rel="stylesheet" href="/scss/style.css">
    
    <link rel="stylesheet" href="/scss/monokai-sublime.min.css">
    <script src="/js/highlight.min.js"></script>
    <link rel="stylesheet" href="/scss/highlight.css">
    
    <link rel="stylesheet" href="/scss/custom.css">
    
    
    
    <meta name="generator" content="Hugo 0.74.3" /></head>

<body>
<div class="header">
    <div class="site-logo__wrap">
        <div id="site-button">
            <div></div>
        </div>
        
        <div class=' site-logo '>
            <a href="/"><img src="/images/logo.png" /></a>
        </div>
    </div>
    
<div class=' site-nav u-font ' id="nav-bar">
    
    <div class="site-nav__wrap">
        <a class="site-nav__el" href="/" >首页</a>
    </div>
    
    <div class="site-nav__wrap">
        <a class="site-nav__el" href="/post" >日志</a>
    </div>
    
    <div class="site-nav__wrap">
        <a class="site-nav__el" href="/about" >关于</a>
    </div>
    
</div>
</div>
<div class="main">

<div class="main-content">
    <div class="main-content__date">
        <h4 id="date"> 2019年9月29日 </h4>
    </div>
    <div class="main-content__title">
        <h1 id="title">疯狂代码</h1>
    </div>
    <div class="main-content__article">
        <article id="content">
            <p>今天一天都在写代码，代码的内容就是大气污染排放清单网格加密，简言之就是making data。当然，数据不是随随便便就能造的，还需要做到<strong>有理有据</strong>。巧妇难为无米之炊，没有数据是没法编造数据的，只能先去找数据。虽然项目提供了大量的数据和信息，然而这些数据信息弄清楚还需要时日，何况它们还是缺乏整理，乱糟糟的一团呢。而任务的截止时间是明天中午，还是很有挑战性的。</p>
<p>他山之石可以攻玉，周郎借东风才能扶摇直上九万里，我也得想办法。事实上，清华大学是做了一个排放清单的，我于是找来清华大学的数据搭个便车。数据并不是很好找，全部下载下来也花了一些时间。然后研究数据本身的分辨率以及如何达到我想要的结果。问题一大堆：数据量大、指标多、时间序列较长说明工作量不小，而数据的格式是NetCDF这种我并不担心但是又并非我想象的那种直接能用的格式，另外投影和分辨率与项目的要求都不一致。</p>
<p>首先解决的是格式问题，通常的方法已经不能解决，只能用间接的方法，先转asc文件，然后再生成tif文件。这种看似简单的工作却得不停地试错，因为原生的NetCDF格式并没有任何说明，只能靠揣测，轮换着不同的方法去试探，费老劲了。</p>
<p>格式不成问题，接下来就是数据的问题。所谓数据就是栅格化的地图，其实就是要将地图变换成目标投影坐标，当然标准是“2000国家大地坐标系”，怎么转我只有模糊的印象，而标准坐标系是啥我也不清楚，所以现学现用了。由于是地图，当然不能只当数据来处理，可视化是相伴随行的，于是我又写了一些作图的代码。这里最纠结的是不同的方式变换结果不一致，更灵活的那种方法却没法得到有效的结果，调试了好久也得不到，于是转向传统一点的方法，结果又反反复复调整，最后终于把方法定了下来。</p>
<p>做了这些后，就是again and again的工作了，不管多大的工作量，都是电脑在run，我大可以在一旁休息。然而，就在我写这个文档的时候，代码还在跑的过程中，早知这么慢我就设置一个并行计算好了，当然还会另花一些时间。不管了，写完这个blog后，我就睡觉了。累死了，还没有完成的工作明天继续吧。</p>
<p>写了这里，我不禁想，天下真的没有免费午餐，写代码时想得少就会花大量的时间在写上面，而想得多时就会花大量的时间在想上面，而很难决策哪一种更节省时间。怎么选择，还真是一个问题。</p>
<div align="center"><img src="/figure/2019-09-29/fig4.jpg" width="40%" \></div>

        </article>
    </div>
    <div class="main-content__tags u-font">
        
    </div>
</div>



<div class="main-profile">
    <div class="main-profile__avatar">
        
            <img src="/images/tiger.jpg">
        
    </div>
    <div class="main-profile__body">
        <div class="main-profile__author">
            
            <span> Tiger </span>
            
        </div>
        <div class="main-profile__description">
            
            <p> 业余码农一枚，喜欢各种有意思的事情，对新奇的事物充满好奇心，爱挑战自己，越战越勇，不服输。 </p>
            
        </div>
    </div>
</div>
<div class="main-line"></div>
<div class="main-pn">
    
    <a class="previous" href="/2019/09/28/%E4%B8%80%E4%B8%AA%E4%BA%BA%E7%9A%84%E7%83%A6%E8%BA%81/">
        <div class="pn-dec"></div>
        <div class="pn-els">
            <div class="pn-el__1"> 2019年9月28日 </div>
            <div class="pn-el__2"> 一个人的烦躁 </div>
        </div>
    </a>
    
    
    <a class="next" href="/2019/09/29/%E6%98%AF%E8%99%9A%E4%BC%AA%E8%BF%98%E6%98%AF%E6%88%90%E5%B9%B4%E4%BA%BA%E6%B4%BB%E5%8A%A8%E5%87%86%E5%88%99/">
        <div class="pn-dec"></div>
        <div class="pn-els">
            <div class="pn-el__1"> 2019年9月29日 </div>
            <div class="pn-el__2"> 是虚伪还是成年人活动准则 </div>
        </div>
    </a>
    
</div>

<div class="main-content">
    
    
  
  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>

  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'Qc6bp8DvRAeLd6DvwAl8ig8w-gzGzoHsz',
        appKey: 'ScnptvmgpxCgIaKT48OxwyIy',
        notify: 'false', 
        verify: 'false', 
        avatar:'mm', 
        placeholder: '说点什么吧...',
        visitor: 'true'
    });
  </script>
</div>

</div>
<div class="footer">
    <div class="copyright-wrap">
        <p class="copyright u-font">
            
            &#169;
            2020
            
            
        </p>
    </div>
</div>
</body>
<script src="/js/page.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

