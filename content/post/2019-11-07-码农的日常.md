---
title: 码农的日常
author: Tiger
date: '2019-11-07'
slug: the daily life of coding peasant
categories: []
tags: []
---

昨天晚上，小庄给了我一个数据，说是有码农把高德地图上的中国精确到区县级别的边界线给爬下来了。Good job！他问我这个数据怎么处理成ArcGIS的.shp格式的文件。其实转文件对我来说一点儿也不是难事，在别人看来是地图，在我看来就是数据。一切皆数，只要是数，就有办法去搞定它。

于是乎，今天我就开始捣腾这批数据。转码倒不是难事，无非是经纬度坐标转成地图上的一道道边界线。一上午连写带找bug带中午没有午休就把这个事情办成了，中间还面试了一个帅哥，发现与我们部门并不对路，于是建议去项目部。

真正困难的地方，其实是高德地图的坐标系，虽然也是经纬度，但用的是火星坐标，与我们通常说的经纬度还不一样，略有差别。想想也是，我们又不是火星人。这就涉及到坐标转换到问题。坐标转换也不是难事，技术都很ok，难在什么地方呢？就在计算效率上。我也是过于自信，想在自己高配的Mac上跑跑，随便两个小时过去了，我发现问题不对了，电脑已经发热，但代码还在运行。我这次知道自己低估了问题的工作量。于是赶紧切换到远程工作站去跑。

下午又面了一个码农，一个纯粹的码农，掏出一个皱巴巴的简历，坐在我面前，目光稍显呆滞。才大学本科毕业不久，头发已经有些花白。跟我交谈的时候，声音有些沙哑，也有些迟疑与不自信。倘若是以前，这样的应聘人员我都不会跟他多聊，现在看来有码农愿意过来面试已经是thank goodness了，之前已经被好几个专科的码农放了鸽子。后来开了一个月度会议，天鸣也过来了。晚饭过后，应项目部的要求，我给大家讲了一下不确定性分析的方法。当然，实在是准备不充分，ppt还是在开月度会的时候随意拼凑出来的，估计讲的大家都云里雾里的。但做过的人多少也了解，不了解的人我也没办法让他学会。顺便推广了一下我之前开发的一个工具，已经是16年的事情了，如果有时间，我还可以好好再弄弄，眼下就让他们用用吧。这个培训，只要大家会用这个工具解决手头上项目的问题，就足够了。

到了晚上临近睡觉的时候，我再瞅了一眼早上跑的代码。我的个乖乖，还在跑。后来我尝试用一个小的例子测试一下，发现2000个经纬度坐标大概需要跑1分钟，那么如果现在有2000万个坐标，不久得1万分钟了，合计有7天！这效率简直就是蜗牛啊。我想到不行，就并行计算，相当于多雇佣几个计算机工人一起做事，不过想想看，临时招来的工人去应急做事还真是不行，尤其是我还没有搞清楚问题的难点的时候，一个试效率也很低。不行就换方法吧，you can you up。R上的代码找了个遍，完全没有卵用，不多且不论，效率比我目前用的还低。那就求助于python吧，很快就找到一个coord-convert的包，直接就可以将高德地图坐标系下的.shp文件转成通用的.shp文件。于是乎，死马当活马医吧，没想到之前如此大量的工作，分分钟就被搞定了。what the fuck！R太不靠谱了。

我想起一个大牛说的一句话：R最强大的地方在于它是统计学家创造的，它最大的劣势在于它也是统计学家创造的。对于我这种R的深度中毒患者，有时走出来看看，其实也是别有一番风景。R是一个窗口，透过它可以看到外面广袤的世界，而只有走出去才能真正地去感受这个世界，同时也会有方向感，知道我在哪里，家在何方。
